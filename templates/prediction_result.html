<!DOCTYPE html>
<html>
<head>
    <title>Prediction Result</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .prediction-card {
            background-color: #f0f2f6;
            padding: 2rem;
            border-radius: 10px;
            border-left: 5px solid #1f77b4;
            margin: 1rem 0;
        }
        .metric-card {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">üí∞ Salary Prediction</a>
            <div class="navbar-nav">
                <a class="nav-link" href="/">üè† Home</a>
                <a class="nav-link" href="/analysis">üìä Data Analysis</a>
                <a class="nav-link active" href="/prediction">üéØ Salary Prediction</a>
                <a class="nav-link" href="/about">‚ÑπÔ∏è About</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1 class="text-center mb-4">üéØ Salary Prediction Result</h1>

        <div class="prediction-card">
            <div class="row text-center">
                <div class="col-md-4">
                    <div class="metric-card">
                        <h4>Predicted Salary (USD)</h4>
                        <h2 class="text-primary">${{ "{:,.0f}".format(predicted_salary) }}</h2>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="metric-card">
                        <h4>Predicted Salary (IDR)</h4>
                        <h2 class="text-success">Rp {{ "{:,.0f}".format(salary_idr).replace(',', '.') }}</h2>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="metric-card">
                        <h4>Confidence Level</h4>
                        <h2 class="text-info">High</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>üí∞ Salary Insights</h5>
                    </div>
                    <div class="card-body">
                        <h6>Breakdown by Factors:</h6>
                        <ul>
                            <li><strong>Education</strong>: {{ input_data.education_level }}</li>
                            <li><strong>Experience</strong>: {{ input_data.years_experience }} years</li>
                            <li><strong>Country</strong>: {{ input_data.country }}</li>
                            <li><strong>Job Role</strong>: {{ input_data.job_title }}</li>
                            <li><strong>Age</strong>: {{ input_data.age }}</li>
                            <li><strong>Gender</strong>: {{ input_data.gender }}</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>üí° Tips to Increase Your Salary</h5>
                    </div>
                    <div class="card-body">
                        <ul>
                            {% if input_data.years_experience|int < 10 %}
                            <li>Gain more experience in your field</li>
                            {% endif %}
                            {% if input_data.education_level in ['High School', "Bachelor's"] %}
                            <li>Consider advanced degrees</li>
                            {% endif %}
                            <li>Develop specialized skills</li>
                            <li>Consider roles in high-paying countries</li>
                            <li>Build a strong professional network</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        {% if comparison %}
        <div class="alert alert-info mt-4">
            <h6>üìä Comparison with Similar Profiles</h6>
            <p>
                Your predicted salary: <strong>${{ "{:,.0f}".format(predicted_salary) }}</strong><br>
                Average for similar profiles: <strong>${{ "{:,.0f}".format(comparison.average) }}</strong><br>
                Difference: <strong>{{ '+' if comparison.difference > 0 else '' }}${{ "{:,.0f}".format(comparison.difference) }}</strong>
            </p>
        </div>
        {% endif %}

        <div class="text-center mt-4">
            <a href="/prediction" class="btn btn-primary">Make Another Prediction</a>
            <a href="/" class="btn btn-secondary">Back to Home</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>